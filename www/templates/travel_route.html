<ion-view view-title="Travel Route"> 
<ion-content>
<h1>Travel Route</h1>
<div class="row">
	<div class="col">
		<div class="row">
			<div class="col-50" align="center">
				<select id="selectGroup" class="form-control" name="groupList"
				ng-model="groupname" ng-change="fetchDevicelist(groupname)">
				<option value="" selected class="disable_select">- -
					Select Group - -</option>
					<option ng-repeat="option in groupList" value="{{ option.gid }}">{{option.gid}}</option>
				</select>
				<!-- <input list="grouplist" class="form-control" name="groupList"
					id="groupNamelist" ng-model="groupname"
					ng-change="fetchDevicelist(groupname)" placeholder="Select Group" />
				<datalist id="grouplist">
					<option ng-repeat="option in groupList" value="{{ option.gid }}">{{
						option.gname }}</option>
					</datalist> -->
				</div>
				<div class="col-50" align="center">
					<select id="selectDevice" class="form-control" name="deviceList"
					ng-model="hist.deviceId" ng-change="deviceSelected(hist.deviceId)">
					<option value="" selected class="disable_select">- -
						Select Vechicle - -</option>
						<option ng-repeat="option in deviceList" value="{{ option }}">{{option}}</option>
					</select>
				<!-- <input list="devicelist" class="form-control" name="deviceList"
					id="deviceIdlist" ng-model="hist.deviceId"
					ng-change="deviceSelected(hist.deviceId)"
					placeholder="Select Vechicle" />
				<datalist id="devicelist">
					<option ng-repeat="option in deviceList" value="{{ option }}">{{
						option}}</option>
					</datalist> -->
				</div>
			</div>
			<section ng-hide="deviceSelected">
				<form name=historyForm>
					<div class="row">
						<div class="col-50" align="center">
							<label>Start Date</label>
							<p>
								<input id="startDt" name="both" type="text"
								ng-click="getCalendar($event, 'both')" ng-model="hist.startDate"
								placeholder="From" ng-required="true" value="24/02/2016" />
							</p>
						</div>
						<div class="col-50" align="center">
							<label>End Date</label>
							<p>
								<input id="endDt" name="both" type="text"
								ng-click="getCalendar($event, 'both')" ng-model="hist.endDate"
								placeholder="To" ng-required="true" value="24/02/2016" />
							</p>
						</div>
					</div>
					<div class="row">
						<div class="col col-33 col-offset-33">
							<button class="button button-block" ng-click="showRoute(hist)">Fetch
								History</button>
							</div>
						</div>
					</form>
				</section>
				<div class="row">
					<div class="col">
						<div ng-hide="noData">
							<h1>Kindly Check For other Dates</h1>
						</div>
						<div>
							<div class="row">
								<div class="col">
									<ng-map zoom="{{historyMap.zoom}}" center="{{historyMap.center}}" map-type-id="TERRAIN">
										<marker 
										    ng-repeat="pos in historyMap.polylines" 
										    position="{{pos}}"
										    icon="{
										      url:'img/flag.png',
										      scaledSize:[20,20],
										      origin: [2,2],
										      anchor: [16,16]
										    }"
										    >
										</marker>
										<shape  name="polyline" 
												path="{{historyMap.polylines}}"
												geodesic="false"
												stroke-color="#333"
												stroke-opacity="1.0"
												stroke-weight="4">
										</shape>
									</ng-map>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</ion-content> 
</ion-view>
